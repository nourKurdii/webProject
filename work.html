<!DOCTYPE html>
<html>
<head>
    <title>Contact us</title>
    <link rel="stylesheet" type="text/css" href="work.css">
    <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
</head>
<body>
<div class="first-container">
    <div class="contact-box" >
        <div class="left">
            <div class="container">
                <div class="wrapper">
                    <div class="image">
                        <img src="" alt="">
                    </div>
                    <div class="content">
                        <div class="icon"><i class="fas fa-cloud-upload-alt"></i></div>
                        <div class="text">No file chosen, yet!</div>
                    </div>
                    <div id="cancel-btn"><i class="fas fa-times"></i></div>
                    <div class="file-name">File name here</div>
                </div>
            </div>
        </div>
        <form class="right" action="work.php" method='POST' enctype="multipart/form-data" >
            <h2>Join Us</h2>
            <input type="text" class="field" placeholder="Your Name" name="name">
            <input type="text" class="field" placeholder="Your Email" name="email">
            <input type="text" class="field"  placeholder="+970-123456789" name="phone" required ="required" pattern="[+][0-9]{3}-[0-9]{9}">
            <textarea placeholder="Message" class="field" name="msg"></textarea>
            <input type="submit" name="submit" class="btn" value="send"></input>
<!--            <button  onclick="defaultBtnActive()" id="custom-btn">Choose a file</button>-->
            <input  id="default-btn" type="file" name="attachment" style=" padding-top: 10px" accept="image/png,image/jpeg,image/jpg">
        </form>
    </div>
</div>
<script>
    const wrapper = document.querySelector(".wrapper");
    const fileName = document.querySelector(".file-name");
    const defaultBtn = document.querySelector("#default-btn");
    // const customBtn = document.querySelector("#custom-btn");
    const cancelBtn = document.querySelector("#cancel-btn i");
    const img = document.querySelector("img");
    let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
    // function defaultBtnActive(){
    //     defaultBtn.click();
    // }
    defaultBtn.addEventListener("change", function(){
        const file = this.files[0];
        if(file){
            const reader = new FileReader();
            reader.onload = function(){
                const result = reader.result;
                img.src = result;
                wrapper.classList.add("active");
            }
            cancelBtn.addEventListener("click", function(){
                img.src = "";
                wrapper.classList.remove("active");
            })
            reader.readAsDataURL(file);
        }
        if(this.value){
            let valueStore = this.value.match(regExp);
            fileName.textContent = valueStore;
        }
    });
</script>
</body>
</html>